# T5-5-2: ペイウォールからメインアプリへの遷移

## 概要

ペイウォール画面で、ユーザーが「閉じる」ボタンを押した時に、メインアプリのホーム画面 (`/(tabs)`) へ遷移するロジックを実装します。購入成功時の遷移は `T5-3-2` で `PurchaseProvider` 内に実装済みです。

## 目的

- ユーザーが購入をスキップした場合に、アプリのメイン機能へスムーズに誘導する。
- `replace` を使うことで、ユーザーがメイン画面からペイウォール画面へ戻れないようにする。

## 依存関係

- **依存タスク**: `T5-5-1`, `T5-1-3`
- **担当領域**: ナビゲーション

## 実装詳細

- **ファイル**: `src/app/paywall.tsx`

### 1. `useRouter` のインポートと使用

- `expo-router` から `router` をインポートします。

```tsx
import { router } from "expo-router";
```

### 2. 「閉じる」ボタン押下時の遷移ハンドラ

- `T5-1-3` で実装した「閉じる」ボタンに `onPress` ハンドラを追加します。

```tsx
import { router } from "expo-router";
```

## 実装手順

1.  `paywall.tsx` で `expo-router` の `router` をインポートします。
2.  `paywall.tsx` に「閉じる」ボタン用の `handleClose` 関数を定義し、その中で `router.replace('/(tabs)')` を呼び出します。
3.  `T5-1-3` で作成した「閉じる」ボタンの `TouchableOpacity` に `onPress={handleClose}` を追加します。

## 完了条件

- [ ] 「閉じる」ボタンを押すと、`/(tabs)` 画面へ遷移する。
- [ ] 遷移後に戻る操作をしてもペイウォール画面に戻らない。
- [ ] （`T5-3-2` と合わせて）購入が成功すると、自動的に `/(tabs)` 画面へ遷移する。

## 次のタスク

- なし (全実装完了)
