# App Store Connect レビュー拒否メッセージ - 日本語解説

## 概要

App Store Connect からのレビュー拒否メッセージです。自動更新サブスクリプションを提供するアプリに必要な情報が不足しているという指摘を受けています。

**⚠️ 重要：これは実装（コード）の問題ではなく、App Store Connect のメタデータ設定の問題です。コード変更は不要で、App Store Connect での設定変更だけで対応できます。**

---

## 審査環境情報

- **提出 ID**: 44eb3e0b-9beb-4149-bda2-6400d703f681
- **審査日**: 2025 年 11 月 27 日
- **審査対象バージョン**: 1.0.0
- **ガイドライン**: 3.1.2 - Business - Payments - Subscriptions（ビジネス - 支払い - サブスクリプション）

---

## 問題点の詳細

### ガイドライン違反の内容

**Guideline 3.1.2 - Business - Payments - Subscriptions** に違反しています。

### 不足している情報（メタデータ）

**⚠️ 今回の拒否理由は「アプリのメタデータ」の問題です。コード変更は不要です。**

- **利用規約（EULA）への機能的なリンク**
  - Apple の標準利用規約（EULA）を使用している場合：**App Store Connect のアプリ説明文**に利用規約へのリンクを記載する必要があります
  - カスタム EULA を使用している場合：**App Store Connect の「EULA」フィールド**に追加する必要があります

### 注意事項

英語原文では「アプリ内（バイナリ）にも含める必要がある」という一般的な要件も記載されていますが、**今回の拒否理由は「メタデータ」の問題**です。まずは App Store Connect のメタデータを修正することが最優先です。

---

## 必要な対応

### ⚠️ 重要：コード変更は不要です

**今回の拒否理由は App Store Connect のメタデータ設定の問題です。コードを変更する必要はありません。**

### 対応が必要な項目（App Store Connect のメタデータ）

以下の情報を**App Store Connect のメタデータに追加する必要があります**：

1. **利用規約（EULA）への機能的なリンク**

   - **オプション A**: アプリ説明文に利用規約へのリンクを記載
   - **オプション B**: App Store Connect の「EULA」フィールドに追加（カスタム EULA の場合）

2. **プライバシーポリシーへの機能的なリンク（確認）**
   - App Store Connect の「プライバシーポリシー」フィールドに正しく設定されているか確認

### 参考：アプリ内（バイナリ）の要件（一般的な要件）

※ これは今回の拒否理由ではありませんが、自動更新サブスクリプションを提供するアプリは、一般的に以下の情報をアプリ内に含める必要があります：

1. 自動更新サブスクリプションのタイトル
2. サブスクリプションの期間
3. サブスクリプションの価格
4. プライバシーポリシーと利用規約（EULA）への機能的なリンク

**ただし、今回の拒否理由は「メタデータ」の問題なので、まずは App Store Connect の設定を修正することが最優先です。**

---

## 対応手順

**⚠️ コード変更は不要です。App Store Connect での設定変更だけで対応できます。**

### ステップ 1: 利用規約（EULA）の準備

**利用規約（EULA）には 2 つの選択肢があります：**

#### オプション A: Apple の標準利用規約を使用する場合（簡単）

Apple が提供する標準的な利用規約を使用する方法です。**自分で利用規約を作成する必要がありません。**

1. App Store Connect にログイン
2. 該当アプリを選択
3. 「App 情報」→「アプリ説明」を編集
4. アプリ説明文内に Apple の標準利用規約へのリンクを追加
   - 例：「利用規約はこちら：https://www.apple.com/legal/internet-services/itunes/dev/stdeula/」

**メリット：**

- 自分で利用規約を作成する必要がない
- 法的な問題を気にする必要がない
- 設定が簡単

#### オプション B: カスタム EULA（自分で作成した利用規約）を使用する場合

**自分で作成した利用規約を使用する方法です。既に利用規約ページがある場合は、この方法が適しています。**

**方法 1: App Store Connect の EULA フィールドに追加**

1. カスタム EULA の内容を作成（既に Web ページがある場合は、その内容をテキストで用意）
2. App Store Connect の「App 情報」→「EULA」フィールドに追加

**方法 2: アプリ説明文にリンクを記載**

1. 既に利用規約ページがある場合（例：`https://no-smoking-app.engineer-ba-sulto.com/terms-of-service.html`）
2. App Store Connect の「App 情報」→「アプリ説明」を編集
3. アプリ説明文内に利用規約へのリンクを追加
   - 例：「利用規約はこちら：https://no-smoking-app.engineer-ba-sulto.com/terms-of-service.html」

**メリット：**

- 自分のアプリに特化した利用規約を作成できる
- 既に利用規約ページがある場合は、そのリンクを記載するだけで良い

### 推奨事項

**既に利用規約ページがある場合（`src/constants/urls.ts` で `TERMS_OF_SERVICE_URL` が設定されている）：**

→ **オプション B の方法 2** を推奨します。アプリ説明文に既存の利用規約ページへのリンクを追加するだけで対応できます。

### ステップ 2: プライバシーポリシーの確認

プライバシーポリシーへのリンクが App Store Connect の「プライバシーポリシー」フィールドに正しく設定されているか確認します。

### ステップ 3: 再提出

1. **アプリを再ビルドする必要はありません**（メタデータのみの変更のため）
2. App Store Connect でメタデータの変更を保存
3. 必要に応じて新しいバージョンを提出（メタデータのみの変更の場合は、既存のバージョンで再提出可能な場合もあります）
4. 審査結果を待つ

### 補足：アプリ内へのリンク追加について

アプリ内に利用規約へのリンクが既に実装されている場合は問題ありません。**今回の拒否理由はメタデータの問題なので、まずは App Store Connect の設定を修正することが最優先です。**

---

## 参考情報

### Apple Developer Program License Agreement

- **Schedule 2** を確認して、サブスクリプションに関する詳細な要件を理解してください

### サポート

問題が解決しない場合は、以下の方法でサポートを受けることができます：

1. **App Store Connect でメッセージに返信**

   - 希望する言語で質問できます
   - 追加のサポートが必要な場合は「お問い合わせ」モジュールを使用

2. **Apple Developer Forums**

   - 他の開発者や Apple エンジニアに相談

3. **App Review Appointment（Meet with Apple）**

   - アプリのレビューについて話し合うための予約
   - 火曜日と木曜日の営業時間内に利用可能（予約制）

4. **フィードバック調査**
   - レビュー体験についての短い調査に回答

---

## まとめ

### 主な問題点

- **利用規約（EULA）への機能的なリンクが App Store Connect のメタデータに不足している**
- **⚠️ これは実装（コード）の問題ではなく、メタデータ設定の問題です**

### 必要な対応

1. ✅ **利用規約（EULA）へのリンクを App Store Connect のメタデータに追加**
   - アプリ説明文に追加するか、EULA フィールドに追加
2. ✅ **プライバシーポリシーへのリンクが正しく設定されているか確認**
3. ✅ **再提出**（コード変更は不要）

### 重要なポイント

- **コード変更は不要です**。App Store Connect での設定変更だけで対応できます
- リンクは**機能的**である必要があります（クリックしてアクセスできること）
- 今回の拒否理由は「メタデータ」の問題なので、App Store Connect の設定を修正することが最優先です
- アプリ内に既に利用規約へのリンクが実装されている場合は、そのままで問題ありません

---

## 次のアクション

1. ✅ 利用規約（EULA）の内容を決定（標準 or カスタム）
2. ⏳ **App Store Connect のメタデータを更新**（コード変更は不要）
3. ⏳ プライバシーポリシーへのリンクが正しく設定されているか確認
4. ⏳ 再提出（アプリの再ビルドは不要）

### 補足

- アプリ内に利用規約へのリンクが既に実装されている場合は、そのままで問題ありません
- 今回の拒否理由は「メタデータ」の問題なので、App Store Connect の設定を修正することが最優先です
